    <script>
        // Get Firebase auth instance
        const auth = firebase.auth();

        // Get form elements
        const registerForm = document.getElementById('register-form');
        const emailInput = document.getElementById('register-email');
        const passwordInput = document.getElementById('register-password');
        const confirmPasswordInput = document.getElementById('confirm-password');
        const passwordMatch = document.getElementById('password-match');
        const passwordMismatch = document.getElementById('password-mismatch');
        const registerButton = document.querySelector('#register-form button[type="submit"]');

        function checkPassword() {
            if (passwordInput.value === confirmPasswordInput.value) {
                passwordMatch.style.display = 'block';
                passwordMismatch.style.display = 'none';
                registerButton.disabled = false;
            } else {
                passwordMatch.style.display = 'none';
                passwordMismatch.style.display = 'block';
                registerButton.disabled = true;
            }
        }

        async function registerUser(event) {
            event.preventDefault(); // Prevent the default form submission

            const email = emailInput.value;
            const password = passwordInput.value;

            try {
                const userCredential = await auth.createUserWithEmailAndPassword(email, password);
                const user = userCredential.user;
                console.log('Registration successful!', user);
                // Optionally, redirect the user to the game page or a success message
                window.location.href = 'index.html'; // Redirect to the main game page after registration
                // You might want to store additional user data in Firestore here later
            } catch (error) {
                console.error('Registration failed:', error.message);
                // Display an error message to the user
                alert('Registration failed: ' + error.message);
            }
        }

        passwordInput.addEventListener('keyup', checkPassword);
        confirmPasswordInput.addEventListener('keyup', checkPassword);
        registerForm.addEventListener('submit', registerUser);

        // Initially disable the register button
        registerButton.disabled = true;
    </script>
